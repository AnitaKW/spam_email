<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spam Email Detection</title>
    
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SPAM EMAIL DETECTION</h1>
            <p>Spam email detection with machine learning implementation</p>
        </div>
        
        <div class="content">
            <form method="POST" action="/predict">
                <label style="display: block; margin-bottom: 10px; font-weight: 600; font-size: 1.1em;">
                    Enter message or email content:
                </label>
                <textarea name="message" 
                          placeholder="Type your message or email here..."
                          required>{{ message if message else '' }}</textarea>
                <button class="btn" type="submit">CHECK EMAIL</button>
            </form>

            {% if error %}
            <div class="error">
                {{ error }}
            </div>
            {% endif %}

            {% if prediction %}
            <div class="result {{ 'spam' if 'SPAM' in prediction else 'notspam' }}">
                <h2>{{ prediction }}</h2>   
                <div class="confidence">{{ confidence }}</div>
                <div class="preview">
                    <strong>Original message:</strong><br>
                    <small>{{ message }}</small>
                    {% if cleaned %}
                    <br><br><strong>After preprocessing:</strong><br>
                    <small>{{ cleaned[:200] }}...</small>
                    {% endif %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>